/**
 * Isotope v1.5.25
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 *
 * Commercial use requires one-time purchase of a commercial license
 * http://isotope.metafizzy.co/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright 2013 Metafizzy
 */
<<<<<<< HEAD
(function(e,t,n){"use strict";var r=e.document,i=e.Modernizr,s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),u=function(e){var t=r.documentElement.style,n;if(typeof t[e]=="string")return e;e=s(e);for(var i=0,u=o.length;i<u;i++){n=o[i]+e;if(typeof t[n]=="string")return n}},a=u("transform"),f=u("transitionProperty"),l={csstransforms:function(){return!!a},csstransforms3d:function(){var e=!!u("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=t('<div id="modernizr" />').appendTo("html");e=s.height()===3,s.remove(),i.remove()}return e},csstransitions:function(){return!!f}},c;if(i)for(c in l)i.hasOwnProperty(c)||i.addTest(c,l[c]);else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h=" ",p;for(c in l)p=l[c](),i[c]=p,h+=" "+(p?"":"no-")+c;t("html").addClass(h)}if(i.csstransforms){var d=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},v=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},o,u={},f;s[n]=r,t.extend(i,s);for(o in i)f=i[o],u[o]=d[o](f);var l=u.translate||"",c=u.scale||"",h=l+c;t.data(e,"isoTransform",i),e.style[a]=h};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){v(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){v(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,g;i.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f],g=u("transitionDuration"));var y=t.event,b=t.event.handle?"handle":"dispatch",w;y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",w&&clearTimeout(w),w=setTimeout(function(){y[b].apply(n,r)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n,r){this.element=t(n),this._create(e),this._init(r)};var E=["width","height"],S=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=E.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var s=0,o=r.length;s<o;s++)i=r[s],this.originalStyle[i]=n[i]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var u={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var a=this;setTimeout(function(){a.element.addClass(a.options.containerClass)},0),this.options.resizable&&S.bind("smartresize.isotope",function(){a.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};return n=n.filter(function(e,t){return t.nodeType===1}),this.usingTransforms&&(r.left=0,r.top=0),n.css(r).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e)n="_update"+s(r),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),t;switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(n),e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this),o={};for(var e in i)!n&&e==="original-order"?o[e]=t.data(this,"isotope-sort-data")[e]:o[e]=i[e](s,r);t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);return s===o&&e!=="original-order"&&(s=t(r,"original-order"),o=t(i,"original-order")),(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left),n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,n){var r=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",s=this.options.animationOptions,o=this.options.onLayout,u,a,f,l;a=function(e,t){t.$el[r](t.style,s)};if(this._isInserting&&this.isUsingJQueryAnimation)a=function(e,t){u=t.$el.hasClass("no-transition")?"css":r,t.$el[u](t.style,s)};else if(n||o||s.complete){var c=!1,h=[n,o,s.complete],p=this;f=!0,l=function(){if(c)return;var t;for(var n=0,r=h.length;n<r;n++)t=h[n],typeof t=="function"&&t.call(p.element,e,p);c=!0};if(this.isUsingJQueryAnimation&&r==="animate")s.complete=l,f=!1;else if(i.csstransitions){var d=0,v=this.styleQueue[0],y=v&&v.$el,b;while(!y||!y.length){b=this.styleQueue[d++];if(!b)return;y=b.$el}var w=parseFloat(getComputedStyle(y[0])[g]);w>0&&(a=function(e,t){t.$el[r](t.style,s).one(m,l)},f=!1)}}t.each(this.styleQueue,a),f&&l(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r),n._sort(),n.reLayout(),n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,r=function(){e.remove(),t&&t.call(n.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(r)):r()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[a]="")});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),S.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+s(r)](!0)||o;u=Math.floor(o/a),u=Math.max(u,1),this[t][i]=u,this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];return this._getSegments(e),this[t][n]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);i=Math.min(i,r.cols);if(i===1)n._masonryPlaceBrick(e,r.colYs);else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.colYs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(!0),f=this.masonry.cols+1-s;for(i=0;i<f;i++)this.masonry.colYs[r+i]=a},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.x!==0&&s+i.x>r&&(i.x=0,i.y=i.height),n._pushPosition(e,i.x,i.y),i.height=Math.max(i.y+o,i.height),i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y),n.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);i=Math.min(i,r.rows);if(i===1)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.rowXs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(!0),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++)this.masonryHorizontal.rowXs[r+i]=a},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.y!==0&&o+i.y>r&&(i.x=i.width,i.y=0),n._pushPosition(e,i.x,i.y),i.width=Math.max(i.x+s,i.width),i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0),n.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function n(){e.call(i,s)}function r(e){var i=e.target;i.src!==u&&t.inArray(i,a)===-1&&(a.push(i),--o<=0&&(setTimeout(n),s.unbind(".imagesLoaded",r)))}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a=[];return o||n(),s.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=u,this.src=e}),i};var x=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if(typeof e=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");if(!n){x("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(n[e])||e.charAt(0)==="_"){x("no such method '"+e+"' for isotope instance");return}n[e].apply(n,r)})}else this.each(function(){var r=t.data(this,"isotope");r?(r.option(e),r._init(n)):t.data(this,"isotope",new t.Isotope(e,this,n))});return this}})(window,jQuery),function(e,t,n){"use strict";var r=e.event,i,s;i=r.special.debouncedresize={setup:function(){e(this).on("resize",i.handler)},teardown:function(){e(this).off("resize",i.handler)},handler:function(e,t){var n=this,o=arguments,u=function(){e.type="debouncedresize",r.dispatch.apply(n,o)};s&&clearTimeout(s),t?u():s=setTimeout(u,i.threshold)},threshold:50};var o=e(t),u=t.Modernizr;e.PFold=function(t,n){this.$el=e(n),this._init(t)},e.PFold.defaults={perspective:1200,speed:450,easing:"linear",folddelay:0,folds:2,folddirection:["right","top"],overlays:!0,centered:!1,containerSpeedFactor:1,containerEasing:"linear",onEndFolding:function(){return!1},onEndUnfolding:function(){return!1}},e.PFold.prototype={_init:function(t){this.options=e.extend(!0,{},e.PFold.defaults,t),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[u.prefixed("transition")],this.support=u.csstransitions&&u.csstransforms3d,this.support&&(this.$el.css("perspective",this.options.perspective+"px"),this.$el.css("transition","all "+this.options.speed*this.options.folds*this.options.containerSpeedFactor+"ms "+this.options.containerEasing)),this.initialDim={width:this.$el.width(),height:this.$el.height(),left:0,top:0},this._layout(),this.$iContent=this.$el.find(".uc-initial"),this.iContent=this.$iContent.html(),this.$fContent=this.$el.find(".uc-final"),this.fContent=this.$fContent.html(),this.$finalEl=e('<div class="uc-final-wrapper"></div>').append(this.$iContent.clone().hide(),this.$fContent).hide(),this.$el.append(this.$finalEl),this._setDimOffset(),this.opened=!1,this.animating=!1,this._initEvents()},_layout:function(){var t=this.$el.children("div.uc-initial-content"),n=this._getFinalDim(),r=this.$el.children("div.uc-final-content").css({width:n.width,height:n.height});t.wrap('<div class="uc-initial"></div>'),r.show().wrap(e('<div class="uc-final"></div>'))},_initEvents:function(){var e=this;o.on("debouncedresize.pfold",function(t){e._setDimOffset()})},_setDimOffset:function(){this.initialDim.offsetL=this.$el.offset().left-o.scrollLeft(),this.initialDim.offsetT=this.$el.offset().top-o.scrollTop(),this.initialDim.offsetR=o.width()-this.initialDim.offsetL-this.initialDim.width,this.initialDim.offsetB=o.height()-this.initialDim.offsetT-this.initialDim.height},_getTranslationValue:function(){var e=0,t=0,n=0,r=0;for(var i=0;i<this.options.folds;++i){var s=this.options.folddirection[i]||"bottom";switch(s){case"left":e+=this.initialDim.width*Math.pow(2,n)/2,n+=1;break;case"right":e-=this.initialDim.width*Math.pow(2,n)/2,n+=1;break;case"top":t+=this.initialDim.height*Math.pow(2,r)/2,r+=1;break;case"bottom":t-=this.initialDim.height*Math.pow(2,r)/2,r+=1}}return{x:e,y:t}},_getAccumulatedValue:function(){var e=0,t=0,n=0,r=0,i=0,s=0;for(var o=0;o<this.options.folds;++o){var u=this.options.folddirection[o]||"bottom";switch(u){case"left":e+=this.initialDim.width*Math.pow(2,i),i+=1;break;case"right":t+=this.initialDim.width*Math.pow(2,i),i+=1;break;case"top":n+=this.initialDim.height*Math.pow(2,s),s+=1;break;case"bottom":r+=this.initialDim.height*Math.pow(2,s),s+=1}}return{l:e,r:t,t:n,b:r}},_getFinalDim:function(){var e=0,t=0,n=0,r=0,i=0,s=0;for(var o=0;o<this.options.folds;++o){var u=this.options.folddirection[o]||"bottom";switch(u){case"left":case"right":i+=1;break;case"top":case"bottom":s+=1}}return{width:this.initialDim.width*Math.pow(2,i),height:this.initialDim.height*Math.pow(2,s)}},_updateStepStyle:function(e){var t,n,r,i;return e==="fold"?(t=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.width/2:this.lastStyle.width,n=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.height:this.lastStyle.height/2,r=this.lastDirection==="left"?this.lastStyle.left+this.lastStyle.width/2:this.lastStyle.left,i=this.lastDirection==="top"?this.lastStyle.top+this.lastStyle.height/2:this.lastStyle.top):(t=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.width*2:this.lastStyle.width,n=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.height:this.lastStyle.height*2,r=this.lastDirection==="left"?this.lastStyle.left-this.lastStyle.width:this.lastStyle.left,i=this.lastDirection==="top"?this.lastStyle.top-this.lastStyle.height:this.lastStyle.top),{width:t,height:n,left:r,top:i}},_getOppositeDirection:function(e){var t;switch(e){case"left":t="right";break;case"right":t="left";break;case"top":t="bottom";break;case"bottom":t="top"}return t},_start:function(t,n){n|=0;var r=this,i=t==="fold"?{width:this.lastStyle.width,height:this.lastStyle.height,left:this.lastStyle.left,top:this.lastStyle.top}:this.initialDim,s="",o="",u="",a=t==="fold"?this.options.folddirection[this.options.folds-1-n]||"bottom":this.options.folddirection[n]||"bottom",f=t==="fold"?this.options.folddirection[this.options.folds-2-n]||"bottom":"";this.$el.find("div.uc-part").remove();switch(n){case 0:case this.options.folds-1:if(t==="fold"){n===this.options.folds-1&&(i=this.initialDim,s=this.iContent);if(n===0){this._setDimOffset(),this.$el.css({left:0,top:0});var l=this._setLastStep(a,i),o=l.bottom,u=l.top;this.$finalEl.hide().children().hide()}}else{if(n===0){this._setDimOffset();var c=this._getTranslationViewport();this.$el.addClass("uc-current").css({left:c.ftx,top:c.fty}),s=this.iContent,this.$finalEl.hide().children().hide()}else i=this._updateStepStyle(t);if(n===this.options.folds-1)var l=this._setLastStep(a,i),o=l.bottom,u=l.top}break;case this.options.folds:i=t==="fold"?this.initialDim:this._updateStepStyle(t);var h=t==="fold"?0:1;return this.$el.find(".uc-part").remove(),this.$finalEl.css(i).show().children().eq(h).show(),this.opened=t==="fold"?!1:!0,this.animating=!1,t==="fold"?(this.$el.removeClass("uc-current"),this.options.onEndFolding()):this.options.onEndUnfolding(),!1;default:i=this._updateStepStyle(t)}this.support&&(i.transition="all "+this.options.speed+"ms "+this.options.easing);var p="uc-unfold-"+a,d=t==="fold"?"uc-unfold uc-part "+p:"uc-part "+p,v=e('<div class="'+d+'"><div class="uc-front">'+s+'</div><div class="uc-back">'+u+"</div></div>").css(i),m=e('<div class="uc-part uc-single">'+o+"</div>").css(i);this.lastDirection=t==="fold"?f:a,this.lastStyle=i,this.$el.append(m,v),this.options.overlays&&this.support&&this._addOverlays(t,m,v),setTimeout(function(){t==="fold"?v.removeClass("uc-unfold"):v.addClass("uc-unfold"),r.support?v.on(r.transEndEventName,function(e){e.target.className!=="uc-flipoverlay"&&n<r.options.folds&&setTimeout(function(){r._start(t,n+1)},r.options.folddelay)}):r._start(t,n+1);if(r.options.overlays&&r.support){var e=t==="fold"?1:0,i=t==="fold"?.5:0,s=t==="fold"?0:.5;r.$bottomOverlay.css("opacity",e),r.$topBackOverlay.css("opacity",i),r.$topFrontOverlay.css("opacity",s)}},30)},_getTranslationViewport:function(){var e=this._getAccumulatedValue(),t=0,n=0;this.fOffsetL=this.initialDim.offsetL-e.l,this.fOffsetT=this.initialDim.offsetT-e.t,this.fOffsetR=this.initialDim.offsetR-e.r,this.fOffsetB=this.initialDim.offsetB-e.b,this.fOffsetL<0&&(t=Math.abs(this.fOffsetL)),this.fOffsetT<0&&(n=Math.abs(this.fOffsetT)),this.fOffsetR<0&&(t-=Math.abs(this.fOffsetR)),this.fOffsetB<0&&(n-=Math.abs(this.fOffsetB));var r=t,i=n;if(this.options.centered){var s=this._getTranslationValue();s.x>0&&this.fOffsetR+s.x>=0?r=this.fOffsetL>=0?Math.min(s.x,this.fOffsetR):s.x+(t-s.x):s.x<0&&this.fOffsetL+s.x>=0?r=this.fOffsetR>=0?Math.min(s.x,this.fOffsetL):s.x+(t-s.x):r=s.x+(t-s.x),s.y>0&&this.fOffsetB+s.y>=0?i=this.fOffsetT>=0?Math.min(s.y,this.fOffsetB):s.y+(n-s.y):s.y<0&&this.fOffsetT+s.y>=0?i=this.fOffsetB>=0?Math.min(s.y,this.fOffsetT):s.y+(n-s.y):i=s.y+(n-s.y)}return{ftx:0,fty:0}},_setLastStep:function(e,t){var n,r,i="",s="";switch(e){case"bottom":s="margin-top: -"+t.height+"px";break;case"top":i="margin-top: -"+t.height+"px";break;case"left":s="width:"+t.width*2+"px",i="width:"+t.width*2+"px;margin-left: -"+t.width+"px";break;case"right":s="with:"+t.width*2+"px;margin-left: -"+t.width+"px",i="width:"+t.width*2+"px"}n='<div class="uc-inner"><div class="uc-inner-content" style="'+i+'">'+this.fContent+"</div></div>";var o=e==="top"||e==="bottom"?"uc-inner uc-inner-rotate":"uc-inner";return r='<div class="'+o+'"><div class="uc-inner-content" style="'+s+'">'+this.fContent+"</div></div>",{bottom:n,top:r}},_addOverlays:function(t,n,r){var i,s,o;this.$bottomOverlay=e('<div class="uc-overlay"></div>'),this.$topFrontOverlay=e('<div class="uc-flipoverlay"></div>'),this.$topBackOverlay=e('<div class="uc-flipoverlay"></div>'),t==="fold"?(i={transition:"opacity "+this.options.speed/2+"ms "+this.options.easing+" "+this.options.speed/2+"ms"},s={opacity:.5,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},o={opacity:0,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing}):(i={opacity:1,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},s={transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},o={opacity:.5,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing+" "+this.options.speed/2+"ms"}),n.append(this.$bottomOverlay.css(i)),r.children("div.uc-front").append(this.$topFrontOverlay.css(s)).end().children("div.uc-back").append(this.$topBackOverlay.css(o))},unfold:function(){if(this.opened||this.animating)return!1;this.animating=!0,this._start("unfold")},fold:function(){if(!this.opened||this.animating)return!1;this.animating=!0,this._start("fold")},getStatus:function(){return this.opened?"opened":"closed"}};var a=function(e){t.console&&t.console.error(e)};e.fn.pfold=function(t){var n=e.data(this,"pfold");if(typeof t=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){if(!n){a("cannot call methods on pfold prior to initialization; attempted to call method '"+t+"'");return}if(!e.isFunction(n[t])||t.charAt(0)==="_"){a("no such method '"+t+"' for pfold instance");return}n[t].apply(n,r)})}else this.each(function(){n?n._init():n=e.data(this,"pfold",new e.PFold(t,this))});return n}}(jQuery,window),function(){$(document).ready(function(){var e,t,n,r;return r=!1,t=!1,n=200,e=$("#grid"),e.isotope({containerStyle:{overflow:"visible",position:"relative"},itemSelector:".item",resizable:!1,masonry:{columnWidth:e.width()/3}}),$(window).smartresize(function(){return e.isotope({masonry:{columnWidth:e.width()/3}})}),e.find(".uc-container").each(function(e){var t,i;return t=["right","bottom"],i=$(this).pfold({folddirection:["right","bottom"],speed:n*2,onEndFolding:function(){return r=!1}})}),e.delegate(".item","click",function(){var r,i,s,o;if(t)return;if($(this).hasClass("non-resizable"))return;i=$(this),r=e.find(".active"),s=0,t=!0;if(i.is(r)){t=!1;return}return o=r.find(".uc-container").data("pfold"),o&&o.fold(),s=n*3,r.toggleClass("active").animate({width:"19.5em",height:"19.5em"},n),setTimeout(function(){return i.toggleClass("active").animate({width:"39.5em",height:"39.5em"},n,function(){var n;e.isotope("reLayout"),i.find(".uc-container").data("pfold").unfold(),t=!1,n=i.offset().top+i.height();if(n>$(window).height())return $("html, body").animate({scrollTop:i.offset().top},"slow")})},s)})})}.call(this);
=======
(function(e,t,n){"use strict";var r=e.document,i=e.Modernizr,s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),u=function(e){var t=r.documentElement.style,n;if(typeof t[e]=="string")return e;e=s(e);for(var i=0,u=o.length;i<u;i++){n=o[i]+e;if(typeof t[n]=="string")return n}},a=u("transform"),f=u("transitionProperty"),l={csstransforms:function(){return!!a},csstransforms3d:function(){var e=!!u("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),r="@media ("+n.join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),s=t('<div id="modernizr" />').appendTo("html");e=s.height()===3,s.remove(),i.remove()}return e},csstransitions:function(){return!!f}},c;if(i)for(c in l)i.hasOwnProperty(c)||i.addTest(c,l[c]);else{i=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h=" ",p;for(c in l)p=l[c](),i[c]=p,h+=" "+(p?"":"no-")+c;t("html").addClass(h)}if(i.csstransforms){var d=i.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},v=function(e,n,r){var i=t.data(e,"isoTransform")||{},s={},o,u={},f;s[n]=r,t.extend(i,s);for(o in i)f=i[o],u[o]=d[o](f);var l=u.translate||"",c=u.scale||"",h=l+c;t.data(e,"isoTransform",i),e.style[a]=h};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){v(e,"scale",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.scale?r.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){v(e,"translate",t)},get:function(e,n){var r=t.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}var m,g;i.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[f],g=u("transitionDuration"));var y=t.event,b;y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",b&&clearTimeout(b),b=setTimeout(function(){jQuery.event.handle.apply(n,r)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n,r){this.element=t(n),this._create(e),this._init(r)};var w=["width","height"],E=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var r=w.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var s=0,o=r.length;s<o;s++)i=r[s],this.originalStyle[i]=n[i]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var u={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,u),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var a=this;setTimeout(function(){a.element.addClass(a.options.containerClass)},0),this.options.resizable&&E.bind("smartresize.isotope",function(){a.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,r={position:"absolute"};return n=n.filter(function(e,t){return t.nodeType===1}),this.usingTransforms&&(r.left=0,r.top=0),n.css(r).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var r in e)n="_update"+s(r),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),t;switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!i.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&i.csstransforms&&i.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=this.options.filter===""?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,r="."+n,i=e.filter(r),s=i;if(t!=="*"){s=i.filter(t);var o=e.not(r).not(t).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(n),e.filter(t)},updateSortData:function(e,n){var r=this,i=this.options.getSortData,s,o;e.each(function(){s=t(this),o={};for(var e in i)!n&&e==="original-order"?o[e]=t.data(this,"isotope-sort-data")[e]:o[e]=i[e](s,r);t.data(this,"isotope-sort-data",o)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,r=function(r,i){var s=t(r,e),o=t(i,e);return s===o&&e!=="original-order"&&(s=t(r,"original-order"),o=t(i,"original-order")),(s>o?1:s<o?-1:0)*n};this.$filteredAtoms.sort(r)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left),n=Math.round(n+this.offset.top);var r=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:r}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;this["_"+n+"Layout"](e);if(this.options.resizesContainer){var r=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:r})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,n){var r=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",s=this.options.animationOptions,o=this.options.onLayout,u,a,f,l;a=function(e,t){t.$el[r](t.style,s)};if(this._isInserting&&this.isUsingJQueryAnimation)a=function(e,t){u=t.$el.hasClass("no-transition")?"css":r,t.$el[u](t.style,s)};else if(n||o||s.complete){var c=!1,h=[n,o,s.complete],p=this;f=!0,l=function(){if(c)return;var t;for(var n=0,r=h.length;n<r;n++)t=h[n],typeof t=="function"&&t.call(p.element,e,p);c=!0};if(this.isUsingJQueryAnimation&&r==="animate")s.complete=l,f=!1;else if(i.csstransitions){var d=0,v=this.styleQueue[0],y=v&&v.$el,b;while(!y||!y.length){b=this.styleQueue[d++];if(!b)return;y=b.$el}var w=parseFloat(getComputedStyle(y[0])[g]);w>0&&(a=function(e,t){t.$el[r](t.style,s).one(m,l)},f=!1)}}t.each(this.styleQueue,a),f&&l(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var r=n._filter(e);n._addHideAppended(r),n._sort(),n.reLayout(),n._revealAppended(r,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,r=function(){e.remove(),t&&t.call(n.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(r)):r()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[a]="")});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),E.unbind(".isotope")},_getSegments:function(e){var t=this.options.layoutMode,n=e?"rowHeight":"columnWidth",r=e?"height":"width",i=e?"rows":"cols",o=this.element[r](),u,a=this.options[t]&&this.options[t][n]||this.$filteredAtoms["outer"+s(r)](!0)||o;u=Math.floor(o/a),u=Math.max(u,1),this[t][i]=u,this[t][n]=a},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",r=this[t][n];return this._getSegments(e),this[t][n]!==r},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,r=n.masonry;e.each(function(){var e=t(this),i=Math.ceil(e.outerWidth(!0)/r.columnWidth);i=Math.min(i,r.cols);if(i===1)n._masonryPlaceBrick(e,r.colYs);else{var s=r.cols+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.colYs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryPlaceBrick(e,o)}})},_masonryPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=this.masonry.columnWidth*r,u=n;this._pushPosition(e,o,u);var a=n+e.outerHeight(!0),f=this.masonry.cols+1-s;for(i=0;i<f;i++)this.masonry.colYs[r+i]=a},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,r=this.element.width(),i=this.fitRows;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.x!==0&&s+i.x>r&&(i.x=0,i.y=i.height),n._pushPosition(e,i.x,i.y),i.height=Math.max(i.y+o,i.height),i.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,r=this.cellsByRow;e.each(function(){var e=t(this),i=r.index%r.cols,s=Math.floor(r.index/r.cols),o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,0,n.straightDown.y),n.straightDown.y+=r.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(e--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,r=n.masonryHorizontal;e.each(function(){var e=t(this),i=Math.ceil(e.outerHeight(!0)/r.rowHeight);i=Math.min(i,r.rows);if(i===1)n._masonryHorizontalPlaceBrick(e,r.rowXs);else{var s=r.rows+1-i,o=[],u,a;for(a=0;a<s;a++)u=r.rowXs.slice(a,a+i),o[a]=Math.max.apply(Math,u);n._masonryHorizontalPlaceBrick(e,o)}})},_masonryHorizontalPlaceBrick:function(e,t){var n=Math.min.apply(Math,t),r=0;for(var i=0,s=t.length;i<s;i++)if(t[i]===n){r=i;break}var o=n,u=this.masonryHorizontal.rowHeight*r;this._pushPosition(e,o,u);var a=n+e.outerWidth(!0),f=this.masonryHorizontal.rows+1-s;for(i=0;i<f;i++)this.masonryHorizontal.rowXs[r+i]=a},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,r=this.element.height(),i=this.fitColumns;e.each(function(){var e=t(this),s=e.outerWidth(!0),o=e.outerHeight(!0);i.y!==0&&o+i.y>r&&(i.x=i.width,i.y=0),n._pushPosition(e,i.x,i.y),i.width=Math.max(i.x+s,i.width),i.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,r=this.cellsByColumn;e.each(function(){var e=t(this),i=Math.floor(r.index/r.rows),s=r.index%r.rows,o=(i+.5)*r.columnWidth-e.outerWidth(!0)/2,u=(s+.5)*r.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,o,u),r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var r=t(this);n._pushPosition(r,n.straightAcross.x,0),n.straightAcross.x+=r.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function n(){e.call(i,s)}function r(e){var i=e.target;i.src!==u&&t.inArray(i,a)===-1&&(a.push(i),--o<=0&&(setTimeout(n),s.unbind(".imagesLoaded",r)))}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a=[];return o||n(),s.bind("load.imagesLoaded error.imagesLoaded",r).each(function(){var e=this.src;this.src=u,this.src=e}),i};var S=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if(typeof e=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");if(!n){S("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(n[e])||e.charAt(0)==="_"){S("no such method '"+e+"' for isotope instance");return}n[e].apply(n,r)})}else this.each(function(){var r=t.data(this,"isotope");r?(r.option(e),r._init(n)):t.data(this,"isotope",new t.Isotope(e,this,n))});return this}})(window,jQuery),function(e,t,n){"use strict";var r=e.event,i,s;i=r.special.debouncedresize={setup:function(){e(this).on("resize",i.handler)},teardown:function(){e(this).off("resize",i.handler)},handler:function(e,t){var n=this,o=arguments,u=function(){e.type="debouncedresize",r.dispatch.apply(n,o)};s&&clearTimeout(s),t?u():s=setTimeout(u,i.threshold)},threshold:50};var o=e(t),u=t.Modernizr;e.PFold=function(t,n){this.$el=e(n),this._init(t)},e.PFold.defaults={perspective:1200,speed:450,easing:"linear",folddelay:0,folds:2,folddirection:["right","top"],overlays:!0,centered:!1,containerSpeedFactor:1,containerEasing:"linear",onEndFolding:function(){return!1},onEndUnfolding:function(){return!1}},e.PFold.prototype={_init:function(t){this.options=e.extend(!0,{},e.PFold.defaults,t),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[u.prefixed("transition")],this.support=u.csstransitions&&u.csstransforms3d,this.support&&(this.$el.css("perspective",this.options.perspective+"px"),this.$el.css("transition","all "+this.options.speed*this.options.folds*this.options.containerSpeedFactor+"ms "+this.options.containerEasing)),this.initialDim={width:this.$el.width(),height:this.$el.height(),left:0,top:0},this._layout(),this.$iContent=this.$el.find(".uc-initial"),this.iContent=this.$iContent.html(),this.$fContent=this.$el.find(".uc-final"),this.fContent=this.$fContent.html(),this.$finalEl=e('<div class="uc-final-wrapper"></div>').append(this.$iContent.clone().hide(),this.$fContent).hide(),this.$el.append(this.$finalEl),this._setDimOffset(),this.opened=!1,this.animating=!1,this._initEvents()},_layout:function(){var t=this.$el.children("div.uc-initial-content"),n=this._getFinalDim(),r=this.$el.children("div.uc-final-content").css({width:n.width,height:n.height});t.wrap('<div class="uc-initial"></div>'),r.show().wrap(e('<div class="uc-final"></div>'))},_initEvents:function(){var e=this;o.on("debouncedresize.pfold",function(t){e._setDimOffset()})},_setDimOffset:function(){this.initialDim.offsetL=this.$el.offset().left-o.scrollLeft(),this.initialDim.offsetT=this.$el.offset().top-o.scrollTop(),this.initialDim.offsetR=o.width()-this.initialDim.offsetL-this.initialDim.width,this.initialDim.offsetB=o.height()-this.initialDim.offsetT-this.initialDim.height},_getTranslationValue:function(){var e=0,t=0,n=0,r=0;for(var i=0;i<this.options.folds;++i){var s=this.options.folddirection[i]||"bottom";switch(s){case"left":e+=this.initialDim.width*Math.pow(2,n)/2,n+=1;break;case"right":e-=this.initialDim.width*Math.pow(2,n)/2,n+=1;break;case"top":t+=this.initialDim.height*Math.pow(2,r)/2,r+=1;break;case"bottom":t-=this.initialDim.height*Math.pow(2,r)/2,r+=1}}return{x:e,y:t}},_getAccumulatedValue:function(){var e=0,t=0,n=0,r=0,i=0,s=0;for(var o=0;o<this.options.folds;++o){var u=this.options.folddirection[o]||"bottom";switch(u){case"left":e+=this.initialDim.width*Math.pow(2,i),i+=1;break;case"right":t+=this.initialDim.width*Math.pow(2,i),i+=1;break;case"top":n+=this.initialDim.height*Math.pow(2,s),s+=1;break;case"bottom":r+=this.initialDim.height*Math.pow(2,s),s+=1}}return{l:e,r:t,t:n,b:r}},_getFinalDim:function(){var e=0,t=0,n=0,r=0,i=0,s=0;for(var o=0;o<this.options.folds;++o){var u=this.options.folddirection[o]||"bottom";switch(u){case"left":case"right":i+=1;break;case"top":case"bottom":s+=1}}return{width:this.initialDim.width*Math.pow(2,i),height:this.initialDim.height*Math.pow(2,s)}},_updateStepStyle:function(e){var t,n,r,i;return e==="fold"?(t=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.width/2:this.lastStyle.width,n=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.height:this.lastStyle.height/2,r=this.lastDirection==="left"?this.lastStyle.left+this.lastStyle.width/2:this.lastStyle.left,i=this.lastDirection==="top"?this.lastStyle.top+this.lastStyle.height/2:this.lastStyle.top):(t=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.width*2:this.lastStyle.width,n=this.lastDirection==="left"||this.lastDirection==="right"?this.lastStyle.height:this.lastStyle.height*2,r=this.lastDirection==="left"?this.lastStyle.left-this.lastStyle.width:this.lastStyle.left,i=this.lastDirection==="top"?this.lastStyle.top-this.lastStyle.height:this.lastStyle.top),{width:t,height:n,left:r,top:i}},_getOppositeDirection:function(e){var t;switch(e){case"left":t="right";break;case"right":t="left";break;case"top":t="bottom";break;case"bottom":t="top"}return t},_start:function(t,n){n|=0;var r=this,i=t==="fold"?{width:this.lastStyle.width,height:this.lastStyle.height,left:this.lastStyle.left,top:this.lastStyle.top}:this.initialDim,s="",o="",u="",a=t==="fold"?this.options.folddirection[this.options.folds-1-n]||"bottom":this.options.folddirection[n]||"bottom",f=t==="fold"?this.options.folddirection[this.options.folds-2-n]||"bottom":"";this.$el.find("div.uc-part").remove();switch(n){case 0:case this.options.folds-1:if(t==="fold"){n===this.options.folds-1&&(i=this.initialDim,s=this.iContent);if(n===0){this._setDimOffset(),this.$el.css({left:0,top:0});var l=this._setLastStep(a,i),o=l.bottom,u=l.top;this.$finalEl.hide().children().hide()}}else{if(n===0){this._setDimOffset();var c=this._getTranslationViewport();this.$el.addClass("uc-current").css({left:c.ftx,top:c.fty}),s=this.iContent,this.$finalEl.hide().children().hide()}else i=this._updateStepStyle(t);if(n===this.options.folds-1)var l=this._setLastStep(a,i),o=l.bottom,u=l.top}break;case this.options.folds:i=t==="fold"?this.initialDim:this._updateStepStyle(t);var h=t==="fold"?0:1;return this.$el.find(".uc-part").remove(),this.$finalEl.css(i).show().children().eq(h).show(),this.opened=t==="fold"?!1:!0,this.animating=!1,t==="fold"?(this.$el.removeClass("uc-current"),this.options.onEndFolding()):this.options.onEndUnfolding(),!1;default:i=this._updateStepStyle(t)}this.support&&(i.transition="all "+this.options.speed+"ms "+this.options.easing);var p="uc-unfold-"+a,d=t==="fold"?"uc-unfold uc-part "+p:"uc-part "+p,v=e('<div class="'+d+'"><div class="uc-front">'+s+'</div><div class="uc-back">'+u+"</div></div>").css(i),m=e('<div class="uc-part uc-single">'+o+"</div>").css(i);this.lastDirection=t==="fold"?f:a,this.lastStyle=i,this.$el.append(m,v),this.options.overlays&&this.support&&this._addOverlays(t,m,v),setTimeout(function(){t==="fold"?v.removeClass("uc-unfold"):v.addClass("uc-unfold"),r.support?v.on(r.transEndEventName,function(e){e.target.className!=="uc-flipoverlay"&&n<r.options.folds&&setTimeout(function(){r._start(t,n+1)},r.options.folddelay)}):r._start(t,n+1);if(r.options.overlays&&r.support){var e=t==="fold"?1:0,i=t==="fold"?.5:0,s=t==="fold"?0:.5;r.$bottomOverlay.css("opacity",e),r.$topBackOverlay.css("opacity",i),r.$topFrontOverlay.css("opacity",s)}},30)},_getTranslationViewport:function(){var e=this._getAccumulatedValue(),t=0,n=0;this.fOffsetL=this.initialDim.offsetL-e.l,this.fOffsetT=this.initialDim.offsetT-e.t,this.fOffsetR=this.initialDim.offsetR-e.r,this.fOffsetB=this.initialDim.offsetB-e.b,this.fOffsetL<0&&(t=Math.abs(this.fOffsetL)),this.fOffsetT<0&&(n=Math.abs(this.fOffsetT)),this.fOffsetR<0&&(t-=Math.abs(this.fOffsetR)),this.fOffsetB<0&&(n-=Math.abs(this.fOffsetB));var r=t,i=n;if(this.options.centered){var s=this._getTranslationValue();s.x>0&&this.fOffsetR+s.x>=0?r=this.fOffsetL>=0?Math.min(s.x,this.fOffsetR):s.x+(t-s.x):s.x<0&&this.fOffsetL+s.x>=0?r=this.fOffsetR>=0?Math.min(s.x,this.fOffsetL):s.x+(t-s.x):r=s.x+(t-s.x),s.y>0&&this.fOffsetB+s.y>=0?i=this.fOffsetT>=0?Math.min(s.y,this.fOffsetB):s.y+(n-s.y):s.y<0&&this.fOffsetT+s.y>=0?i=this.fOffsetB>=0?Math.min(s.y,this.fOffsetT):s.y+(n-s.y):i=s.y+(n-s.y)}return{ftx:0,fty:0}},_setLastStep:function(e,t){var n,r,i="",s="";switch(e){case"bottom":s="margin-top: -"+t.height+"px";break;case"top":i="margin-top: -"+t.height+"px";break;case"left":s="width:"+t.width*2+"px",i="width:"+t.width*2+"px;margin-left: -"+t.width+"px";break;case"right":s="with:"+t.width*2+"px;margin-left: -"+t.width+"px",i="width:"+t.width*2+"px"}n='<div class="uc-inner"><div class="uc-inner-content" style="'+i+'">'+this.fContent+"</div></div>";var o=e==="top"||e==="bottom"?"uc-inner uc-inner-rotate":"uc-inner";return r='<div class="'+o+'"><div class="uc-inner-content" style="'+s+'">'+this.fContent+"</div></div>",{bottom:n,top:r}},_addOverlays:function(t,n,r){var i,s,o;this.$bottomOverlay=e('<div class="uc-overlay"></div>'),this.$topFrontOverlay=e('<div class="uc-flipoverlay"></div>'),this.$topBackOverlay=e('<div class="uc-flipoverlay"></div>'),t==="fold"?(i={transition:"opacity "+this.options.speed/2+"ms "+this.options.easing+" "+this.options.speed/2+"ms"},s={opacity:.5,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},o={opacity:0,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing}):(i={opacity:1,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},s={transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},o={opacity:.5,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing+" "+this.options.speed/2+"ms"}),n.append(this.$bottomOverlay.css(i)),r.children("div.uc-front").append(this.$topFrontOverlay.css(s)).end().children("div.uc-back").append(this.$topBackOverlay.css(o))},unfold:function(){if(this.opened||this.animating)return!1;this.animating=!0,this._start("unfold")},fold:function(){if(!this.opened||this.animating)return!1;this.animating=!0,this._start("fold")},getStatus:function(){return this.opened?"opened":"closed"}};var a=function(e){t.console&&t.console.error(e)};e.fn.pfold=function(t){var n=e.data(this,"pfold");if(typeof t=="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){if(!n){a("cannot call methods on pfold prior to initialization; attempted to call method '"+t+"'");return}if(!e.isFunction(n[t])||t.charAt(0)==="_"){a("no such method '"+t+"' for pfold instance");return}n[t].apply(n,r)})}else this.each(function(){n?n._init():n=e.data(this,"pfold",new e.PFold(t,this))});return n}}(jQuery,window),function(){$(document).ready(function(){var e,t,n,r;return r=!1,t=!1,n=200,e=$("#grid"),e.isotope({containerStyle:{overflow:"visible",position:"relative"},itemSelector:".item",resizable:!1,masonry:{columnWidth:e.width()/3}}),$(window).smartresize(function(){return e.isotope({masonry:{columnWidth:e.width()/3}})}),e.find(".uc-container").each(function(e){var t,i;return t=["right","bottom"],i=$(this).pfold({folddirection:["right","bottom"],speed:n*2,onEndFolding:function(){return r=!1}})}),e.delegate(".item","click",function(){var r,i,s,o;if(t)return;if($(this).hasClass("non-resizable"))return;i=$(this),r=e.find(".active"),s=0,t=!0;if(i.is(r)){t=!1;return}return o=r.find(".uc-container").data("pfold"),o&&o.fold(),s=n*3,r.toggleClass("active").animate({width:"19.5em",height:"19.5em"},n),setTimeout(function(){return i.toggleClass("active").animate({width:"39.5em",height:"39.5em"},n,function(){var n;e.isotope("reLayout"),i.find(".uc-container").data("pfold").unfold(),t=!1,n=i.offset().top+i.height();if(n>$(window).height())return $("html, body").animate({scrollTop:i.offset().top},"slow")})},s)})})}.call(this);
>>>>>>> 179542eb773ecb5837ec2132924dfc98edafdb32
